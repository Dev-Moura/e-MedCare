{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Documents/estrutura/e-MedCare/emedcare-app/src/app/doctor/list/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useEffect, useEffectEvent } from \"react\"; // HOOK -> gancho\r\nimport Link from \"next/link\";\r\n\r\nexport default function DoctorList() {\r\n  const [doctors, setDoctors] = useState(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetch(\"http://127.0.0.1:3001/doctors\", {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: sessionStorage.getItem(\"token\") || \"\",\r\n      },\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => setDoctors(data));\r\n  }, [doctors]);\r\n\r\n  const deleteDoctor = async (id: any) => {\r\n    const add = await fetch(`http://127.0.0.1:3001/doctors/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: sessionStorage.getItem(\"token\") || \"\",\r\n      },\r\n    });\r\n\r\n    const content = await add.json();\r\n    console.log(content);\r\n    if (content.login) {\r\n      window.location.reload();\r\n    } else {\r\n      setError(content.error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Link href=\"/home\">Voltar</Link>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <td className=\"border border-slate-300\">Nome</td>\r\n            <td className=\"border border0-slate-300\">login</td>\r\n            <td className=\"border border0-slate-300\">Especialidade Médica</td>\r\n            <td className=\"border border0-slate-300\">Registro Médico</td>\r\n            <td className=\"border border0-slate-300\">Email</td>\r\n            <td className=\"border border0-slate-300\">Telefone</td>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody className=\"doctors\" id=\"doctors\">\r\n          {!!doctors &&\r\n            doctors.map((doctors: any) => (\r\n              <tr>\r\n                <td className=\"border border-slate-300\">{doctors.name}</td>\r\n                <td className=\"border border-slate-300 text-center\">\r\n                  {doctors.login}\r\n                </td>\r\n                <td className=\"border border-slate-300 text-center\">\r\n                  {doctors.medicalSpecialty}\r\n                </td>\r\n                <td className=\"border border-slate-300 text-center\">\r\n                  {doctors.medicalRegistration}\r\n                </td>\r\n                <td className=\"border border-slate-300 text-center\">\r\n                  {doctors.email}\r\n                </td>\r\n                <td className=\"border border-slate-300 text-center\">\r\n                  {doctors.phone}\r\n                </td>\r\n                <td className=\"border border-slate-300 text-center\">\r\n                  <button\r\n                    onClick={(e) => deleteDoctor(doctor._id)}\r\n                    className=\"bg-red-500 p-2 inline-block text-white texte-sm\"\r\n                  >\r\n                    Deletar\r\n                  </button>\r\n                </td>\r\n                <td className=\"border border-slate-300\">\r\n                  <Link\r\n                    href={`/doctor/edit/${doctors._id}`}\r\n                    className=\"bg-yellow-500 p-2 inline-block texte-white texte-sm\"\r\n                  >\r\n                    Editar\r\n                  </Link>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n        </tbody>\r\n      </table>\r\n      <div>\r\n        {error && (\r\n          <div\r\n            className=\"p-2 text-white border-gray-200 border-[1px] rounded-sm bg-red-400\"\r\n            style={{ color: \"red\" }}\r\n          >\r\n            {error}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA,oVAAoE,iBAAiB;AACrF;AAHA;;;;AAKe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,MAAM,iCAAiC;YACrC,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,eAAe,eAAe,OAAO,CAAC,YAAY;YACpD;QACF,GACG,IAAI,CAAC,CAAC,WAAa,SAAS,IAAI,IAChC,IAAI,CAAC,CAAC,OAAS,WAAW;IAC/B,GAAG;QAAC;KAAQ;IAEZ,MAAM,eAAe,OAAO;QAC1B,MAAM,MAAM,MAAM,MAAM,CAAC,8BAA8B,EAAE,IAAI,EAAE;YAC7D,QAAQ;YACR,SAAS;gBACP,gBAAgB;gBAChB,eAAe,eAAe,OAAO,CAAC,YAAY;YACpD;QACF;QAEA,MAAM,UAAU,MAAM,IAAI,IAAI;QAC9B,QAAQ,GAAG,CAAC;QACZ,IAAI,QAAQ,KAAK,EAAE;YACjB,OAAO,QAAQ,CAAC,MAAM;QACxB,OAAO;YACL,SAAS,QAAQ,KAAK;QACxB;IACF;IAEA,qBACE;;0BACE,8OAAC,uKAAI;gBAAC,MAAK;0BAAQ;;;;;;0BACnB,8OAAC;;kCACC,8OAAC;kCACC,cAAA,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAA0B;;;;;;8CACxC,8OAAC;oCAAG,WAAU;8CAA2B;;;;;;8CACzC,8OAAC;oCAAG,WAAU;8CAA2B;;;;;;8CACzC,8OAAC;oCAAG,WAAU;8CAA2B;;;;;;8CACzC,8OAAC;oCAAG,WAAU;8CAA2B;;;;;;8CACzC,8OAAC;oCAAG,WAAU;8CAA2B;;;;;;;;;;;;;;;;;kCAI7C,8OAAC;wBAAM,WAAU;wBAAU,IAAG;kCAC3B,CAAC,CAAC,WACD,QAAQ,GAAG,CAAC,CAAC,wBACX,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAA2B,QAAQ,IAAI;;;;;;kDACrD,8OAAC;wCAAG,WAAU;kDACX,QAAQ,KAAK;;;;;;kDAEhB,8OAAC;wCAAG,WAAU;kDACX,QAAQ,gBAAgB;;;;;;kDAE3B,8OAAC;wCAAG,WAAU;kDACX,QAAQ,mBAAmB;;;;;;kDAE9B,8OAAC;wCAAG,WAAU;kDACX,QAAQ,KAAK;;;;;;kDAEhB,8OAAC;wCAAG,WAAU;kDACX,QAAQ,KAAK;;;;;;kDAEhB,8OAAC;wCAAG,WAAU;kDACZ,cAAA,8OAAC;4CACC,SAAS,CAAC,IAAM,aAAa,OAAO,GAAG;4CACvC,WAAU;sDACX;;;;;;;;;;;kDAIH,8OAAC;wCAAG,WAAU;kDACZ,cAAA,8OAAC,uKAAI;4CACH,MAAM,CAAC,aAAa,EAAE,QAAQ,GAAG,EAAE;4CACnC,WAAU;sDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAQb,8OAAC;0BACE,uBACC,8OAAC;oBACC,WAAU;oBACV,OAAO;wBAAE,OAAO;oBAAM;8BAErB;;;;;;;;;;;;;AAMb","debugId":null}}]
}