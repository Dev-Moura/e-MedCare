{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Documents/estrutura/e-MedCare/emedcare-app/src/app/components/reCaptchaComponent/page.tsx"],"sourcesContent":["import React from \"react\";\r\nimport ReCAPTCHA from \"react-google-recaptcha\";\r\n\r\nconst SITE_KEY = process.env.NEXT_PUBLIC_RECAPTCHA_SITE_KEY || \"\";\r\n\r\nconst ReCaptchaComponent = ({onVerify, onExpired}) => {\r\n    if(!SITE_KEY) {\r\n       console.error(\"⚠️ reCAPTCHA site key absent! Verify your .env.local\"); \r\n    }\r\n    return (\r\n        <div className=\"mt-6\">\r\n            <ReCAPTCHA\r\n                sitekey={SITE_KEY}\r\n                onChange={onVerify}\r\n                onExpired={onExpired}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ReCaptchaComponent;"],"names":[],"mappings":";;;;;AACA;;;AAEA,MAAM,WAAW,gFAA8C;AAE/D,MAAM,qBAAqB,CAAC,EAAC,QAAQ,EAAE,SAAS,EAAC;IAC7C;;IAGA,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC,8LAAS;YACN,SAAS;YACT,UAAU;YACV,WAAW;;;;;;;;;;;AAI3B;uCAEe","debugId":null}},
    {"offset": {"line": 62, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/LENOVO/Documents/estrutura/e-MedCare/emedcare-app/src/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport axios from \"axios\";\r\nimport ReCaptchaComponent from \"./components/reCaptchaComponent/page\";\r\nimport React, { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\n\r\nexport default function Home() {\r\n  const router = useRouter();\r\n  const [login, setLogin] = useState<string>(\"\"); // hook -> gancho\r\n  const [password, setPassword] = useState<string>(\"\");\r\n  const [error, setError] = useState<string | null>(\"\");\r\n  const [captchaToken, setCaptchaToken] = useState<string | null>(null);\r\n  \r\n\r\n  const authenticantion = async (e: any) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n\r\n    // validação de login e senha\r\n    if (login != \"\" && password != \"\") {\r\n      const formData = {\r\n        login: login,\r\n        password: password,\r\n        captchaToken,\r\n      };\r\n\r\n    if(!captchaToken) {\r\n      alert(\"Please confirm that you are not a robot!\");\r\n      return;\r\n     } ;\r\n\r\n\r\n     try{\r\n\r\n      // chamada do back-end\r\n      const add = await fetch(\"http://localhost:3001/login\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(formData),\r\n      });\r\n\r\n      // cria um .json do conteudo da chamada\r\n      const content = await add.json();\r\n      \r\n      // se o token existir\r\n      if (content.token) {\r\n        sessionStorage.setItem(\"token\", content.token); // implementação simplista do jwt\r\n        router.push(\"/home\"); // se o token existir encaminha o usuario pra home\r\n      } else {\r\n        setError(content.error || \"Error authenticating user\");\r\n      }\r\n     } catch (e) {\r\n      setError(\"Server connection error\")\r\n     }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <div className=\"min-h-screen flex flex-col\">\r\n        <header className= \"w-full h-14 bg-white\" >\r\n          <a href=\"./\" className= \"w-12 flex ml-2 font-bold text-4xl text-blue-600 p-2 \">MedCare</a>\r\n        </header>\r\n        <main className=\"w-full h-full flex flex-1 justify-center items-center h-screen bg-gray-400\">\r\n                <form\r\n                    className=\"w-full max-w-sm p-10 bg-white rounded-lg shadow-md \"\r\n                    onSubmit={authenticantion}\r\n                >\r\n                    <h1 className=\"font-bold py-6 block text-4xl text-gray-700  \">Entrar</h1>\r\n                    <div className=\"w-full py-2\">\r\n                        <input\r\n                            placeholder=\"Login\"\r\n                            type=\"text\"\r\n                            name=\"name\"\r\n                            className=\"w-full border-1 border-gray-600 p-4 rounded-sm placeholder-gray-700 focus:placeholder-transparent focus:outline-none\"\r\n                            onChange={(e) => setLogin(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"w-full py-2\">\r\n                        <input\r\n                            placeholder=\"Password\"\r\n                            name=\"password\"\r\n                            type=\"password\"\r\n                            className=\"mt-2 w-full border-1 border-gray-600 p-4 rounded-sm placeholder-gray-700 focus:placeholder-transparent focus:outline-none\"\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <div className=\"w-full py-2\">\r\n                        <a href= \"./forgetPassword\" className=\"w-4 text-blue-600\">Esqueceu a senha?</a>\r\n                        <a href=\"./pacient/create\" className=\"flex mt-2 text-gray-700 font-bold text-1xl w-2/3\" >Paciente? Crie sua conta</a>\r\n                        <a href=\"./doctor/create\" className=\"flex mt-2 text-gray-700 font-bold text-1xl w-2/3\" >Doutor(a)? Crie sua conta</a>\r\n                        <ReCaptchaComponent\r\n                         onVerify={setCaptchaToken} \r\n                         onExpired={() => setCaptchaToken(null)}\r\n                         />\r\n                        <button type=\"submit\" className=\" mt-6 w-full p-2 text-2xl text-gray-200 border rounded-4xl bg-blue-600 flex justify-center \">\r\n                            Login\r\n                        </button>\r\n                    </div>\r\n                    <div>\r\n                        {error && (\r\n                            <div\r\n                                className=\"p-2 text-white border-gray-200 border rounded-sm bg-red-400\"\r\n                                style={{ color: \"red\" }}\r\n                            >\r\n                                {error}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n               </form>\r\n          </main>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AALA;;;;;AAQe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAS,KAAK,iBAAiB;IACjE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAS;IACjD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAgB;IAGhE,MAAM,kBAAkB,OAAO;QAC7B,EAAE,cAAc;QAChB,SAAS;QAET,6BAA6B;QAC7B,IAAI,SAAS,MAAM,YAAY,IAAI;YACjC,MAAM,WAAW;gBACf,OAAO;gBACP,UAAU;gBACV;YACF;YAEF,IAAG,CAAC,cAAc;gBAChB,MAAM;gBACN;YACD;;YAGA,IAAG;gBAEF,sBAAsB;gBACtB,MAAM,MAAM,MAAM,MAAM,+BAA+B;oBACrD,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;oBAAmB;oBAC9C,MAAM,KAAK,SAAS,CAAC;gBACvB;gBAEA,uCAAuC;gBACvC,MAAM,UAAU,MAAM,IAAI,IAAI;gBAE9B,qBAAqB;gBACrB,IAAI,QAAQ,KAAK,EAAE;oBACjB,eAAe,OAAO,CAAC,SAAS,QAAQ,KAAK,GAAG,iCAAiC;oBACjF,OAAO,IAAI,CAAC,UAAU,kDAAkD;gBAC1E,OAAO;oBACL,SAAS,QAAQ,KAAK,IAAI;gBAC5B;YACD,EAAE,OAAO,GAAG;gBACX,SAAS;YACV;QACD;IACF;IAEA,qBACE;kBACA,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAO,WAAW;8BACjB,cAAA,8OAAC;wBAAE,MAAK;wBAAK,WAAW;kCAAuD;;;;;;;;;;;8BAEjF,8OAAC;oBAAK,WAAU;8BACR,cAAA,8OAAC;wBACG,WAAU;wBACV,UAAU;;0CAEV,8OAAC;gCAAG,WAAU;0CAAgD;;;;;;0CAC9D,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC;oCACG,aAAY;oCACZ,MAAK;oCACL,MAAK;oCACL,WAAU;oCACV,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;0CAGhD,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC;oCACG,aAAY;oCACZ,MAAK;oCACL,MAAK;oCACL,WAAU;oCACV,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;0CAGnD,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAE,MAAM;wCAAmB,WAAU;kDAAoB;;;;;;kDAC1D,8OAAC;wCAAE,MAAK;wCAAmB,WAAU;kDAAoD;;;;;;kDACzF,8OAAC;wCAAE,MAAK;wCAAkB,WAAU;kDAAoD;;;;;;kDACxF,8OAAC,kKAAkB;wCAClB,UAAU;wCACV,WAAW,IAAM,gBAAgB;;;;;;kDAElC,8OAAC;wCAAO,MAAK;wCAAS,WAAU;kDAA8F;;;;;;;;;;;;0CAIlI,8OAAC;0CACI,uBACG,8OAAC;oCACG,WAAU;oCACV,OAAO;wCAAE,OAAO;oCAAM;8CAErB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASjC","debugId":null}}]
}